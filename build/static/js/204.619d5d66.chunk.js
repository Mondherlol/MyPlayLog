"use strict";(self.webpackChunkmyplaylog_frontend_web=self.webpackChunkmyplaylog_frontend_web||[]).push([[204],{1204:function(e,s,a){a.r(s),a.d(s,{default:function(){return Z}});var r,t,n=a(4165),l=a(5861),o=a(9439),i=a(168),d=a(2791),c=a(2360),m=a(9230),u=a(1087),p=a(7192),h=a(1912),g=a(5705),x=a(7689),f=a(9085),b=a(1793),w=a(8007),v=w.Ry().shape({username:w.Z_().required("username is required"),email:w.Z_().email("must be a valid email").required("email is required"),password:w.Z_().min(4,"must be at least 3 characters long").max(14,"must be maximum of 14 characters long").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/,"must contain uppercase,lowercase and a number").required("password is required")}),y=a(9264),j=a(184),N=c.ZP.div(r||(r=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n"])),p.Z.background,y),k=c.ZP.input(t||(t=(0,i.Z)([""]))),Z=function(){var e=(0,m.$G)().t,s=(0,d.useState)(!1),a=(0,o.Z)(s,2),r=a[0],t=a[1],i=(0,d.useState)(!1),c=(0,o.Z)(i,2),w=c[0],y=c[1],Z=(0,d.useContext)(b.O),C=Z.loggedIn;Z.setLoggedIn;document.title="MyPlayLog - "+e("sign_up");var O=(0,x.s0)();(0,d.useEffect)((function(){console.log("logged in="+C),C&&O("/")}),[C]);var S=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(){var s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={username:I.username,email:I.email,password:I.password},e.next=3,v.isValid(s);case 3:a=e.sent,console.log(a),a&&(0,h.Z)({method:"post",data:s,withCredentials:!0,url:"".concat("http://141-95-162-17.nip.io:8000","/api/user/register")}).then((function(e){console.log(e.data),"Username already exists"===e.data.message||"email already exists"===e.data.message?(y(!0),f.Am.error(e.data.message,{position:f.Am.POSITION.BOTTOM_RIGHT,theme:"dark"})):(y(!1),"User created successfully"===e.data.message&&(f.Am.success("User created successfully",{position:f.Am.POSITION.BOTTOM_RIGHT,theme:"dark"}),O("/login")))})).catch((function(e){f.Am.error(e.message,{position:f.Am.POSITION.BOTTOM_RIGHT,theme:"dark"})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=(0,g.TA)({initialValues:{username:"",email:"",password:""},validationSchema:v,onSubmit:S}),I=T.values,_=T.handleBlur,A=T.handleChange,B=T.handleSubmit,q=T.errors,P=T.touched;return console.log(q),(0,j.jsx)(N,{children:(0,j.jsxs)("div",{style:{backgroundColor:"rgb(8, 7, 27,.95)"},className:" rounded-lg flex flex-col min-w-72 lg:w-2/5  ",children:[(0,j.jsx)("h1",{className:"text-center mt-10 text-3xl",children:"Sign up"}),(0,j.jsxs)("form",{onSubmit:B,children:[(0,j.jsxs)("div",{className:" flex flex-col",children:[(0,j.jsx)(k,{placeholder:"username",style:{border:q.username&&P.username?"1px solid red":"transparent"},className:" mt-6 ml-10 mr-10 rounded-md p-2 backdrop-blur-sm bg-white/30 text-white font-bold ",id:"username",value:I.username,onChange:A,onBlur:_}),q.username&&P.username&&(0,j.jsx)("p",{className:"text-red-700 ml-10",children:q.username})]}),(0,j.jsxs)("div",{className:" flex flex-col",children:[(0,j.jsx)(k,{placeholder:"email",style:{border:q.email&&P.email?"1px solid red":"transparent"},className:"mt-6 ml-10 mr-10 rounded-md p-2 backdrop-blur-sm bg-white/30 text-white font-bold",id:"email",value:I.email,onChange:A,onBlur:_}),q.email&&P.email&&(0,j.jsx)("p",{className:"text-red-700 ml-10",children:q.email})]}),(0,j.jsxs)("div",{className:"relative flex flex-row",children:[(0,j.jsx)(k,{type:r?"text":"password",placeholder:"password",style:{border:q.password&&P.password?"1px solid red":"transparent"},className:"mt-6 ml-10 mr-10 rounded-md p-2 flex-1 backdrop-blur-sm bg-white/30 text-white font-bold",id:"password",value:I.password,onChange:A,onBlur:_}),(0,j.jsx)("button",{onClick:function(e){e.preventDefault(),t(!r)},className:"absolute right-8 top-6 h-8 w-16 bg-transparent border-none text-white",children:r?"Hide":"Show"})]}),q.password&&P.password&&(0,j.jsx)("p",{className:"text-red-700 ml-10",children:q.password}),w&&(0,j.jsxs)("p",{className:"text-white ml-10 font-bold text-center mt-5",children:["Account already exists wanna"," ",(0,j.jsx)(u.rU,{to:"/login",children:(0,j.jsx)("span",{className:" text-lg cursor-pointer",style:{color:p.Z.primary},children:"Login?"})})," "]}),(0,j.jsxs)("div",{className:"flex flex-col lg:flex-row mt-14 mb-10 ml-10 mr-10 lg:space-x-2",children:[(0,j.jsx)("button",{style:{border:"transparent",backgroundColor:p.Z.primary},className:"lg:flex-1 p-2 rounded-md font-bold cursor-pointer",type:"submit",children:"Register"}),(0,j.jsxs)("a",{className:"lg:flex-1 p-2 font-bold bg-white hover:bg-gray-200 justify-center  rounded-md mt-5 lg:mt-0",style:{color:p.Z.backgroundDerivation,display:"flex",alignItems:"center"},href:"".concat("http://141-95-162-17.nip.io:8000","/api/user/auth/google/"),children:[(0,j.jsx)("svg",{className:" w-4 h-4 mr-2 ","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:(0,j.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Sign up with Google"]})]})]})]})})}},9264:function(e,s,a){e.exports=a.p+"static/media/bg_02.201c88f97b1f62f9fc95.gif"}}]);
//# sourceMappingURL=204.619d5d66.chunk.js.map